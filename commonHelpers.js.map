{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.png","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFpSURBVHgBrZQ9UsMwEIXXQoZhcgCobU6RNKlygPTOKUhPDz00UOBbpE9OgX0FD8xQkBAbrYkyirQrK3Fe5bHX79Nqf6JqPG6AUJzN4DLLIETr/B02eU5+kz7z39UK6uIDfBLpnYqdtc8URLLmiwX8PD1CkO7nLET2NlfSsRRE9jXvgshzmPsg0mcu0lQVufCa2jE2ROhuccyTFK6fX1R2fKvi4TBGJImTCXoiROALqhXrsmhTxCAKojPfqBmoy9L9f+dJzoEWDpCZri6cab5mBkzLC6AgAFGweRCAgoSaowQEqmGeuxSUgXnn/1fE756jAVxBQyHyFHOuu1gADpUtfOfrFhOyXS6dWcA1joq+X9+a+IyrAnWl1recTNrDXcy/Ph8iVbh4OgVxcwtbNeJaTVVBl+wY0xwzl2a6eiWculFtc9S+yH0hlPkBoA+EM3cADmQwaLeqT9gtcjhku42cgwPIaARd8u2mP6EkDQvp61kkAAAAAElFTkSuQmCC\"","// Підключення бібліотек\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport closeIcon from './img/bi_x-octagon.png';\n\n// Отримання посилань на необхідні DOM-елементи\nconst form = document.querySelector('form');\nconst list = document.querySelector('.gallery');\n\n// Додаємо обробник події для кнопки пошуку\nform.addEventListener('submit', onSearchButton);\n\n// Функція обробки події пошуку\nfunction onSearchButton(e) {\n    e.preventDefault();\n    const inputSearch = form.elements.search.value.trim();\n    if (inputSearch === '') {\n        showErrorMessage('Please, enter what you want to find!');\n        return;\n    }\n    addClass(form, 'loading');\n    getPhotos(inputSearch);\n    form.reset();\n}\n\n// Додати клас до елементу\nfunction addClass(element, className) {\n    element.classList.add(className);\n}\n\n// Отримання фотографій за допомогою API\nfunction getPhotos(inputSearch) {\n    const searchParams = new URLSearchParams({\n        key: \"31960717-8c82352157f13e8057b3011e3\",\n        q: inputSearch,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n\n    const url = `https://pixabay.com/api/?${searchParams}`;\n    return fetch(url)\n        .then(response => response.json())\n        .then(photos => {\n            const arrayPhotos = photos.hits;\n            if (arrayPhotos.length === 0) {\n                noImages();\n            }\n            removeClass(form, 'loading');\n            renderPhoto(arrayPhotos);\n        })\n        .catch(error => {\n            showErrorMessage(error);\n            removeClass(form, 'loading');\n        });\n}\n\n// Видалити клас з елементу\nfunction removeClass(element, className) {\n    element.classList.remove(className);\n}\n\n// Обробник, який викликається, коли фотографії не знайдені\nfunction noImages() {\n    list.innerHTML = '';\n    showErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n}\n\n// Рендеринг фотографій\nfunction renderPhoto(photos) {\n    const markup = photos\n        .map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) =>\n            `<li class='gallery-item'>\n                <a class='gallery-link' href='${largeImageURL}'>\n                    <img class='gallery-image' src='${webformatURL}' alt='${tags}'/>\n                </a>\n                <div class='container-app'>\n                    <p><span>Likes</span> ${likes}</p>\n                    <p><span>Views</span> ${views}</p>\n                    <p><span>Comments</span> ${comments}</p>\n                    <p><span>Downloads</span> ${downloads}</p>\n                </div>\n            </li>`)\n        .join('');\n    list.insertAdjacentHTML('afterBegin', markup);\n    initLightbox();\n}\n\n// Ініціалізація Lightbox\nfunction initLightbox() {\n    let gallery = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionsPosition: 'bottom',\n        captionDelay: 250,\n    });\n    gallery.on('show.simpleLightbox');\n    gallery.refresh();\n}\n\n// Відображення повідомлення про помилку\nfunction showErrorMessage(message) {\n    iziToast.error({\n        messageColor: '#FFF',\n        color: '#EF4040',\n        iconUrl: closeIcon,\n        position: 'topRight',\n        message: message,\n    });\n}\n"],"names":["closeIcon","form","list","onSearchButton","e","inputSearch","showErrorMessage","addClass","getPhotos","element","className","url","response","photos","arrayPhotos","noImages","removeClass","renderPhoto","error","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","initLightbox","gallery","SimpleLightbox","message","iziToast"],"mappings":"6vBAAA,MAAeA,EAAA,yoBCQTC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAO,SAAS,cAAc,UAAU,EAG9CD,EAAK,iBAAiB,SAAUE,CAAc,EAG9C,SAASA,EAAeC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAcJ,EAAK,SAAS,OAAO,MAAM,OAC/C,GAAII,IAAgB,GAAI,CACpBC,EAAiB,sCAAsC,EACvD,MACH,CACDC,EAASN,EAAM,SAAS,EACxBO,EAAUH,CAAW,EACrBJ,EAAK,MAAK,CACd,CAGA,SAASM,EAASE,EAASC,EAAW,CAClCD,EAAQ,UAAU,IAAIC,CAAS,CACnC,CAGA,SAASF,EAAUH,EAAa,CAS5B,MAAMM,EAAM,4BARS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGN,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,CAEmD,GACpD,OAAO,MAAMM,CAAG,EACX,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAU,CACZ,MAAMC,EAAcD,EAAO,KACvBC,EAAY,SAAW,GACvBC,IAEJC,EAAYf,EAAM,SAAS,EAC3BgB,EAAYH,CAAW,CACnC,CAAS,EACA,MAAMI,GAAS,CACZZ,EAAiBY,CAAK,EACtBF,EAAYf,EAAM,SAAS,CACvC,CAAS,CACT,CAGA,SAASe,EAAYP,EAASC,EAAW,CACrCD,EAAQ,UAAU,OAAOC,CAAS,CACtC,CAGA,SAASK,GAAW,CAChBb,EAAK,UAAY,GACjBI,EAAiB,0EAA0E,CAC/F,CAGA,SAASW,EAAYJ,EAAQ,CACzB,MAAMM,EAASN,EACV,IAAI,CAAC,CAAE,cAAAO,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC1E;AAAA,gDACoCN,CAAa;AAAA,sDACPC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,4CAGpCC,CAAK;AAAA,4CACLC,CAAK;AAAA,+CACFC,CAAQ;AAAA,gDACPC,CAAS;AAAA;AAAA,kBAEvC,EACT,KAAK,EAAE,EACZxB,EAAK,mBAAmB,aAAciB,CAAM,EAC5CQ,GACJ,CAGA,SAASA,GAAe,CACpB,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC3C,aAAc,MACd,iBAAkB,SAClB,aAAc,GACtB,CAAK,EACDD,EAAQ,GAAG,qBAAqB,EAChCA,EAAQ,QAAO,CACnB,CAGA,SAAStB,EAAiBwB,EAAS,CAC/BC,EAAS,MAAM,CACX,aAAc,OACd,MAAO,UACP,QAAS/B,EACT,SAAU,WACV,QAAS8B,CACjB,CAAK,CACL"}